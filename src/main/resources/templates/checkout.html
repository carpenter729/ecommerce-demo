<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="">
<head>
  <meta charset="UTF-8">
  <title>结算确认</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

<div class="container mt-5" style="max-width: 600px;">
  <div class="card shadow">
    <div class="card-header bg-primary text-white">
      <h4 class="mb-0">💳 填写订单信息</h4>
    </div>
    <div class="card-body">

      <div class="alert alert-info text-center">
        待支付金额: <strong class="fs-4 text-danger">¥ <span th:text="${total}"></span></strong>
      </div>

      <!-- 提交到 OrderController 的 createOrder 方法 -->
      <form action="/order/create" method="post">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>

        <!-- 1. 收货地址 -->
        <div class="mb-4">
          <label class="form-label fw-bold">📍 收货地址</label>
          <textarea name="address" class="form-control" rows="3" placeholder="请输入详细地址（街道、门牌号）" required></textarea>
        </div>

        <!-- 2. 支付方式 -->
        <div class="mb-4">
          <label class="form-label fw-bold">💰 选择支付方式</label>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="paymentMethod" value="Alipay" id="pay1" checked>
            <label class="form-check-label" for="pay1">支付宝 (Alipay)</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="paymentMethod" value="WeChat" id="pay2">
            <label class="form-check-label" for="pay2">微信支付 (WeChat Pay)</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="paymentMethod" value="CreditCard" id="pay3">
            <label class="form-check-label" for="pay3">信用卡 (Credit Card)</label>
          </div>
        </div>

        <hr>

        <div class="d-grid gap-2">
          <button type="submit" class="btn btn-success btn-lg">确认支付并下单</button>
          <a href="/cart" class="btn btn-outline-secondary">返回购物车</a>
        </div>
      </form>
    </div>
  </div>
</div>

</body>
</html>